# Pico SDKãƒãƒƒãƒ—ãƒ•ã‚¡ã‚¤ãƒ«è§£æã‚¹ã‚¯ãƒªãƒ—ãƒˆ

Pico SDKã®ãƒãƒƒãƒ—ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è§£æã™ã‚‹Pythonã‚¹ã‚¯ãƒªãƒ—ãƒˆ

## æ¦‚è¦â„¹ï¸

Pico SDKã§RP2040ã€RP2350ã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦ç”Ÿæˆã•ã‚Œã‚‹ãƒãƒƒãƒ—ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ*.mapï¼‰
ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ä¸‹è¨˜ã‚’è§£æã—ã¦å„ç¨®ä½¿ç”¨é‡ã‚’è¡¨ç¤ºã™ã‚‹

## è§£æå¯¾è±¡

### ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ãƒ¡ãƒ¢ãƒªã®ä½¿ç”¨çŠ¶æ³ ğŸ’¾
- ã‚³ãƒ¼ãƒ‰ã‚»ã‚¯ã‚·ãƒ§ãƒ³ ğŸ“
  - `.text` - å®Ÿè¡Œã‚³ãƒ¼ãƒ‰
  - `.init` - åˆæœŸåŒ–ã‚³ãƒ¼ãƒ‰
  - `.fini` - çµ‚äº†ã‚³ãƒ¼ãƒ‰
- ãƒ‡ãƒ¼ã‚¿ã‚»ã‚¯ã‚·ãƒ§ãƒ³ ğŸ“Š
  - `.rodata` - èª­ã¿å–ã‚Šå°‚ç”¨ãƒ‡ãƒ¼ã‚¿
  - `.data.rel.ro` - èª­ã¿å–ã‚Šå°‚ç”¨ã®ç›¸å¯¾ãƒ‡ãƒ¼ã‚¿
- ARMé–¢é€£ã‚»ã‚¯ã‚·ãƒ§ãƒ³ ğŸ”§
  - `.ARM.extab` - ARMä¾‹å¤–å‡¦ç†ãƒ†ãƒ¼ãƒ–ãƒ«
  - `.ARM.exidx` - ARMä¾‹å¤–ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
  - `.ARM.attributes` - ARMå±æ€§
- ãƒ‡ãƒãƒƒã‚°æƒ…å ± ğŸ›
  - `.debug_info` - ãƒ‡ãƒãƒƒã‚°æƒ…å ±
  - `.debug_abbrev` - ãƒ‡ãƒãƒƒã‚°çœç•¥æƒ…å ±
  - `.debug_loc` - ãƒ‡ãƒãƒƒã‚°ä½ç½®æƒ…å ±
  - `.debug_aranges` - ãƒ‡ãƒãƒƒã‚°ã‚¢ãƒ‰ãƒ¬ã‚¹ç¯„å›²
  - `.debug_ranges` - ãƒ‡ãƒãƒƒã‚°ç¯„å›²æƒ…å ±
  - `.debug_line` - ãƒ‡ãƒãƒƒã‚°è¡Œæƒ…å ±
  - `.debug_str` - ãƒ‡ãƒãƒƒã‚°æ–‡å­—åˆ—
- ãã®ä»– ğŸ“‹
  - `.comment` - ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã‚„ãƒªãƒ³ã‚«ãŒç”Ÿæˆã™ã‚‹ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼ˆã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã€ãƒ“ãƒ«ãƒ‰ç’°å¢ƒæƒ…å ±ãªã©ï¼‰ã€‚ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ROMã«ä¿å­˜ã•ã‚Œã‚‹èª­ã¿å–ã‚Šå°‚ç”¨ãƒ‡ãƒ¼ã‚¿
- ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ ğŸ“ˆ
  - åˆè¨ˆä½¿ç”¨é‡ï¼ˆãƒã‚¤ãƒˆã€KBï¼‰
  - Flashå®¹é‡ï¼ˆãƒã‚¤ãƒˆã€MBï¼‰
  - ä½¿ç”¨ç‡ï¼ˆ%ï¼‰

### SRAMã®ä½¿ç”¨çŠ¶æ³ ğŸ§ 
- ãƒ‡ãƒ¼ã‚¿ã‚»ã‚¯ã‚·ãƒ§ãƒ³ ğŸ“Š
  - `.data` - åˆæœŸåŒ–æ¸ˆã¿ãƒ‡ãƒ¼ã‚¿
  - `.bss` - æœªåˆæœŸåŒ–ãƒ‡ãƒ¼ã‚¿
  - `.noinit` - åˆæœŸåŒ–ä¸è¦ãƒ‡ãƒ¼ã‚¿
- ã‚·ã‚¹ãƒ†ãƒ ã‚»ã‚¯ã‚·ãƒ§ãƒ³ âš™ï¸
  - `.ram_vector_table` - RAMãƒ™ã‚¯ã‚¿ãƒ¼ãƒ†ãƒ¼ãƒ–ãƒ«
  - `.stack` - ã‚¹ã‚¿ãƒƒã‚¯é ˜åŸŸ
  - `.heap` - ãƒ’ãƒ¼ãƒ—é ˜åŸŸ
- ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ ğŸ“ˆ
  - åˆè¨ˆä½¿ç”¨é‡ï¼ˆãƒã‚¤ãƒˆã€KBï¼‰
  - SRAMå®¹é‡ï¼ˆãƒã‚¤ãƒˆã€KBï¼‰
  - ä½¿ç”¨ç‡ï¼ˆ%ï¼‰

## è‡ªå‹•æ¤œç´¢æ©Ÿèƒ½ ğŸ”

mapãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹ã‚’æŒ‡å®šã—ãªã„å ´åˆã¯ä¸‹è¨˜ã®å ´æ‰€ã‚’è‡ªå‹•çš„ã«æ¤œç´¢ã™ã‚‹

1. ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¨åŒã˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã® `src/build/` å†…ã®ä»»æ„ã® `.map` ãƒ•ã‚¡ã‚¤ãƒ«
2. ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¨åŒã˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã®ä»»æ„ã® `.map` ãƒ•ã‚¡ã‚¤ãƒ«
3. è¦ªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã® `build/` å†…ã®ä»»æ„ã® `.map` ãƒ•ã‚¡ã‚¤ãƒ«

å„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã§æœ€åˆã«è¦‹ã¤ã‹ã£ãŸ `.map` ãƒ•ã‚¡ã‚¤ãƒ«ãŒä½¿ç”¨ã•ã‚Œã‚‹

## ä½¿ã„æ–¹ ğŸ’»

```bash
python picosdk_mapfile_parse.py
```

```bash
python picosdk_mapfile_parse.py [mapãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹]
```

### å‡ºåŠ›ä¾‹ ğŸ“Š

```shell
C:\dev_work\git\my\rp2350_dev\src>python picosdk_mapfile_parse.py
Pico SDK Map File Parser
Copyright (c) 2025 Chimipupu(https://github.com/Chimipupu)

æ¢ã—ã¦ã„ã‚‹å ´æ‰€: C:\dev_work\git\my\rp2350_dev\src\src\build\*.map
æ¢ã—ã¦ã„ã‚‹å ´æ‰€: C:\dev_work\git\my\rp2350_dev\src\*.map

ã€RP2040/RP2350 ãƒãƒƒãƒ—è§£æã‚¹ã‚¯ãƒªãƒ—ãƒˆã€‘

Copyright (c) 2025 Chimipupu(https://github.com/Chimipupu)

ãƒãƒƒãƒ—ãƒ•ã‚¡ã‚¤ãƒ«: C:\dev_work\git\my\rp2350_dev\src\rp2350_dev.elf.map

=== ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ä½¿ç”¨é‡ ===
.text                 77,774 bytes ( 75.95 KB)
.rodata               51,240 bytes ( 50.04 KB)
.init                     20 bytes (  0.02 KB)
.fini                    112 bytes (  0.11 KB)
.ARM.exidx                32 bytes (  0.03 KB)
.comment               5,878 bytes (  5.74 KB)
.debug_info          589,892 bytes (576.07 KB)
.debug_abbrev        103,246 bytes (100.83 KB)
.debug_aranges         7,088 bytes (  6.92 KB)
.debug_line          324,835 bytes (317.22 KB)
.debug_str           253,317 bytes (247.38 KB)
åˆè¨ˆä½¿ç”¨é‡:        1,413,434 bytes (1380.31 KB)
Flashå®¹é‡:         4,194,304 bytes (  4.00 MB)
ä½¿ç”¨ç‡:             33.70%

=== RAMä½¿ç”¨é‡ ===
.data                  5,476 bytes (  5.35 KB)
.bss                   4,605 bytes (  4.50 KB)
.stack                 8,192 bytes (  8.00 KB)
.heap                  4,096 bytes (  4.00 KB)
åˆè¨ˆä½¿ç”¨é‡:           22,369 bytes ( 21.84 KB)
SRAMå®¹é‡:            524,288 bytes (512.00 KB)
ä½¿ç”¨ç‡:               4.27%
```

## æ³¨æ„äº‹é … âš ï¸

- â€»ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ãƒãƒƒãƒ—ãƒ•ã‚¡ã‚¤ãƒ«ã‚’UTF-8ã§ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã—ã¦èª­ã¿è¾¼ã‚€
- â€»ç›¸å¯¾ãƒ‘ã‚¹ã§æŒ‡å®šã—ãŸå ´åˆã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‹ã‚‰ã®ç›¸å¯¾ãƒ‘ã‚¹ã¨ã—ã¦è§£é‡ˆã•ã‚Œã‚‹
- â€»ãƒãƒƒãƒ—ãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã¯ã€ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨ä½¿ç”¨æ–¹æ³•ãŒè¡¨ç¤ºã•ã‚Œã¾ã™
- â€»å‡ºåŠ›ã•ã‚Œã‚‹ã‚µã‚¤ã‚ºã¯ã€Byteå˜ä½ã¨KB/MBå˜ä½ã®ä¸¡æ–¹ã§è¡¨ç¤ºã•ã‚Œã‚‹
- â€»ä½¿ç”¨ç‡ã¯å°æ•°ç‚¹ä»¥ä¸‹2æ¡ã¾ã§è¡¨ç¤ºã•ã‚Œã‚‹
